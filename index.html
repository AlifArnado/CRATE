<html>
  <head>
    <title>CRATE</title>
    <link rel="icon" type="image/png" href="./img/crateicon.png" />
    <link rel="stylesheet"
	  href="./bower_components/octicons/octicons/octicons.css" />
    <link rel="stylesheet"
	  href="./bower_components/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet"
	  href="./bower_components/bootstrap/dist/css/bootstrap-theme.min.css"
	  />
    <link rel="stylesheet" href="./css/generatedstyle.css"/>
  </head>
  
  <body onunload="editingSession.saveDocument()">
    <header>
      <div id="top-header">
	<div class="container">
	  <a id="homeIcon" href="#" class="crate-icon"></a>
	  <div class="pull-right">
	    <div class="dropdown">
	      <button type="button" class="btn btn-default dropdown-toggle"
		      aria-label="Generate offer" data-toggle="dropdown"
		      id="networkdropdownmenu">
		<span id="networkState" class="octicon octicon-globe"></span>
		Network
		<span class="caret"></span>
	      </button>
	      <ul id="dropdowncontainerNetwork" class="dropdown-menu"
		  role="menu" aria-labelledby="networkdropdownmenu">
		<li id="test" role="presentation">
		  <a id="generateOffer" role="menuitem" tabindex="-1">
		    Get an entrance ticket
		  </a>
		</li>
		<li role="presentation">
		  <a id="acceptOffer" role="menuitem" tabindex="-1">
		    Stamp a ticket
		  </a>
		</li>
		<li role="presentation">
		  <a id="confirmHandshake" role="menuitem" tabindex="-1">
		    Confirm our arrival
		  </a>
		</li>
	      </ul>
	    </div>
	  </div>
	</div>
      </div>  
    </header>

    <section class="main">
      
      <div class="container">
	<div class="row">
	  <div class="col-md-12">
	    <div class="post">
	      <div id="editor"></div>
	    </div>
	  </div>
	</div>
      </div>
    </section>

    <div class="container">
      <div id="offers" class="row">
	<!-- Generate offer -->
	<div id="alertGenerateOffer" class="container">
	  <div class="alert alert-warning alert-dismissible" role="alert">
	    <button id="dismissGenerateOffer" type="button" class="close" >
	      <span  aria-hidden="true">&times;</span><span class="sr-only">
		Close
	      </span>
	    </button>
	    <div class="container">
	      <div class="input-group">
		<input id="fieldGenerateOffer" type="text"
		       class="form-control"
		       placeholder="A link will appear in this field, give it to your friend!" readonly="readonly"/>
		<span class="input-group-btn">
		  <button id="actionGenerateOffer"
			  aria-label="Copy to clipboard"
			  class="btn btn-default"
			  data-clipboard-target="fieldGenerateOffer"
			  data-copied-hint="Copied!" type="button">
		    <span class="octicon octicon-clippy"></span> Copy
		  </button>
		</span>
	      </div>
	    </div>
	  </div>
	</div>      
	<!-- Accept offer -->      
	<div id="alertAcceptOffer" class="container">
	  <div class="alert alert-info alert-dismissible" role="alert">
	    <button id="dismissAcceptOffer" type="button" class="close" >
	      <span  aria-hidden="true">&times;</span><span class="sr-only">
		Close
	      </span>
	    </button>
	    <div class="container">
	      <div class="input-group">
		<input id="fieldAcceptOffer" type="text" class="form-control"
		       placeholder="Enter the received offer here"/>
		<span class="input-group-btn">
		  <button id="actionAcceptOffer" aria-label="Go!"
			  class="btn btn-default" type="button">
		    Go!
		  </button>
		</span>
	      </div>
	    </div>
	  </div>
	</div>      
	<!-- Confirm handshake -->
	<div id="alertConfirmHandshake" class="container">
	  <div class="alert alert-info alert-dismissible" role="alert">
	    <button id="dismissConfirmHandshake" type="button"
		    class="close" >
	      <span  aria-hidden="true">&times;</span><span class="sr-only">
		Close
	      </span>
	    </button>
	    <div class="container">
	      <div class="input-group">
		<input id="fieldConfirmHandshake" type="text"
		       class="form-control"
		       placeholder="Enter the confirming offer here"/>
		<span class="input-group-btn">
		  <button id="actionConfirmHandshake" aria-label="Go!"
			  class="btn btn-default" type="button">
		    Go!
		  </button>
		</span>
	      </div>
	    </div>
	  </div>
	</div>
      </div>
    </div>

    <script src="./bower_components/jquery/dist/jquery.min.js"></script>
    <script src="./bower_components/bootstrap/dist/js/bootstrap.min.js">
    </script>

    <script src="./bower_components/causaltrack/causaltrack.bundle.js">
    </script>
    <script> var IVV = require("causaltrack").IVV; </script>
    
    <script src="./bower_components/rtc-scamp/build/rtc-scamp.bundle.debug.js">
    </script>
    <script src="./bower_components/zeroclipboard/dist/ZeroClipboard.js">
    </script>
    <script> var Network = require("rtc-scamp"); </script>
    
    <script src="./bower_components/ace-builds/src-min/ace.js"></script>
    <script src="./bower_components/lseqtree/lseqtree.bundle.js"></script>
    <script> var LSEQTree = require("lseqtree"); </script>

    <script src="./js/messages.js"></script>
    <script src="./js/document.js"></script>
    <script src="./js/editingsession.js"></script>
    <script>
      var UID = Math.random()*1337;
      var editingSession = new EditingSession(UID);
      localStorage.clear();
      if (!editingSession.loadDocument("default")){
        editingSession.newDocument("default", UID);
      };
      var currentDocument = editingSession.document;
      var network = editingSession.network;
    </script>
    
    <script src="./js/network.js"></script>
    <script src="./js/editor.js"></script>
  </body>
</html>
